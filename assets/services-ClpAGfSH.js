import"./script-BcHKMjds.js";/* empty css                     */import"./social-media-NQidWaMP.js";const r=n=>{const t=document.querySelector(n);if(!t)throw new Error(`Element not found: ${n}`);return t},l=r(".cart-btn"),u=r(".close-cart"),m=r(".clear-cart"),o=r(".cart"),c=r(".cart-overlay"),p=r(".cart-items"),f=r(".cart-total"),d=r(".cart-content");r(".services-container");class C{constructor(){this.items=this.validateCartItems(h.getCart()),this.buttonsDOM=[]}validateCartItems(t){return Array.isArray(t)?t.filter(e=>e&&typeof e=="object"&&typeof e.id=="string"&&typeof e.title=="string"&&typeof e.price=="number"&&!isNaN(e.price)&&typeof e.amount=="number"&&!isNaN(e.amount)&&e.image):[]}addItem(t){const e=t.dataset.id;if(!this.items.find(s=>s.id===e)){const s={id:e,title:t.querySelector("h3").textContent,price:parseFloat(t.querySelector(".price-button").textContent.match(/\d+/)[0]),image:t.querySelector("img").src,amount:1};this.items.push(s),this.updateButtonState(e,!0),this.save()}}updateButtonState(t,e){const a=document.querySelector(`.bag-btn[data-id="${t}"]`);a&&(a.innerHTML=e?"In Cart":'<i class="fas fa-shopping-cart"></i>add to cart',a.disabled=e)}removeItem(t){this.items=this.items.filter(e=>e.id!==t),this.updateButtonState(t,!1),this.save()}updateAmount(t,e){const a=this.items.find(s=>s.id===t);a&&(a.amount=Math.max(0,e),a.amount===0?this.removeItem(t):this.save())}clear(){this.items.forEach(t=>this.updateButtonState(t.id,!1)),this.items=[],this.save()}save(){h.saveCart(this.items)}getTotal(){return{price:this.items.reduce((t,e)=>t+e.price*e.amount,0),items:this.items.reduce((t,e)=>t+e.amount,0)}}}class h{static saveCart(t){try{localStorage.setItem("cart",JSON.stringify(t))}catch(e){console.error("Failed to save cart:",e)}}static getCart(){try{return JSON.parse(localStorage.getItem("cart"))||[]}catch(t){return console.error("Failed to get cart:",t),[]}}}class v{constructor(){this.cart=new C,this.setupEventListeners(),this.setupAddToCartButtons(),this.updateCartUI()}setupEventListeners(){l.addEventListener("click",()=>this.showCart()),u.addEventListener("click",()=>this.hideCart()),c.addEventListener("click",t=>{t.target===c&&this.hideCart()}),m.addEventListener("click",()=>this.clearCart()),d.addEventListener("click",t=>this.handleCartActions(t)),document.addEventListener("keydown",t=>{t.key==="Escape"&&this.hideCart()})}setupAddToCartButtons(){[...document.querySelectorAll(".bag-btn")].forEach(e=>{const a=e.dataset.id;this.cart.items.some(i=>i.id===a)&&(e.innerText="In Cart",e.disabled=!0),e.addEventListener("click",()=>{const i=e.closest(".service");i&&(this.cart.addItem(i),this.updateCartUI(),this.showCart())})})}updateCartUI(){const{price:t,items:e}=this.cart.getTotal();f.innerText=t.toFixed(2),p.innerText=e,this.displayCartItems()}displayCartItems(){d.innerHTML=this.cart.items.map(t=>`
            <div class="cart-item">
                <img src="${t.image}" alt="${t.title}">
                <div>
                    <h4>${t.title}</h4>
                    <h5>â‚¹${t.price}</h5>
                    <span class="remove-item" data-id="${t.id}">remove</span>
                </div>
                <div>
                    <i class="fas fa-chevron-up" data-id="${t.id}"></i>
                    <p class="item-amount">${t.amount}</p>
                    <i class="fas fa-chevron-down" data-id="${t.id}"></i>
                </div>
            </div>
        `).join("")}handleCartActions(t){const e=t.target,a=e.dataset.id;if(a){if(e.classList.contains("remove-item"))this.cart.removeItem(a);else if(e.classList.contains("fa-chevron-up")){const s=this.cart.items.find(i=>i.id===a);s&&this.cart.updateAmount(a,s.amount+1)}else if(e.classList.contains("fa-chevron-down")){const s=this.cart.items.find(i=>i.id===a);s&&this.cart.updateAmount(a,s.amount-1)}this.updateCartUI()}}clearCart(){this.cart.clear(),this.updateCartUI(),this.hideCart()}showCart(){c.classList.add("show-cart"),o.classList.add("showCart")}hideCart(){c.classList.remove("show-cart"),o.classList.remove("showCart")}}document.addEventListener("DOMContentLoaded",()=>new v);
